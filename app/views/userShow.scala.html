@(userToBeShowed: models.User,self: Boolean,upVotedPostKeys:Set[Long], downVotedPostKeys:Set[Long])
@import be.objectify.deadbolt.views.html._
@import be.objectify.deadbolt.utils.TemplateUtils._
@import helper.H._

@template.main(Messages("user_information")) {

    @if(userToBeShowed == null) {
    
    <div class="page-header">
        <p class="text-error"> @Messages("User not found") </p>
    </div>
    
    } else {
    
	<div class="container-fluid">
    	<div class="row-fluid">
    		<div class="span3">
    			<div class="clearfix">
    				<div class="center-horizontal">
        				<h3>
            				<img src="@getProfileImageURLWithNormalSize(userToBeShowed)" alt="@userToBeShowed.getFirstName() @userToBeShowed.getLastName()" width="120px"/>
        				</h3>
    					<h4>
    						<span>@userToBeShowed.getFirstName() @userToBeShowed.getLastName()</span>
    					</h4>
    				</div>
    				<dl class="dl-horizontal">
        
    					@restrict(la(as("admin"))) {
    						<dt class="text-info"> @Messages("Roles") </dt>
    						<dd class="text-info"> @if(userToBeShowed.getSecurityRoles().size == 0) { &nbsp; } @for(role <- userToBeShowed.getSecurityRoles()) { @role.getName() &nbsp; } </dd>
    						}
            
    						<dt> @Messages("User.Profile") </dt> 
    						<dd><a href="https://www.facebook.com/profile.php?id=@userToBeShowed.getOriginalKey()">@userToBeShowed.getFirstName() @userToBeShowed.getLastName()</a></dd>
    						
    						<dt> @Messages("joinedOn") </dt>
    						<dd> @formatDateToDayAndYear(userToBeShowed.getCreatedOn())</dd>
	        
    						<dt> @Messages("User.Email") </dt>
    						<dd> @if( userToBeShowed.getEmail() != null ) { @userToBeShowed.getEmail() } else { @Messages("Not_Available") } </dd>
	        
    						<dt> @Messages("User.FirstName") </dt>
    						<dd> @userToBeShowed.getFirstName() </dd>
	        
    						<dt> @Messages("User.LastName") </dt>
    						<dd> @userToBeShowed.getLastName() </dd>
	        
    						<dt> @Messages("User.Date_of_Birth") </dt> 
    						<dd> @prettify(userToBeShowed.getBirthdate()) </dd>
	        
    						<dt> @Messages("User.Location") </dt>
    						<dd> @userToBeShowed.getLocation() </dd>
	        
    						</dl>

    				
    				</div>
	        </div>
	        <div class="span7" id="top-div">
	        	<ul id="top-tab" class="nav nav-tabs" data-target="#top-div">
	  				<li class="active">
	        		<a data-toggle="tab" href="#user_Posts">@Messages("Posts")</a></li>
	  				<li><a data-toggle="tab" href="#user_Comments">@Messages("Comments")</a></li>
				</ul>

	        	<div class="tab-content">
	             	<div id="user_Posts"  class="tab-pane fade in active">             	
	        			<table class="posts table table-striped table-bordered">   		
	        				<tbody>
	        					@for(post <- userToBeShowed.getPosts) {
	        						@partials.postTable(post, upVotedPostKeys, downVotedPostKeys)
	        					}
	        				</tbody>
	        			</table>
	        		</div>
	        		<div id="user_Comments" class="tab-pane fade">        	
	        			<table class="posts table table-striped table-bordered">   		
	        				<tbody>
	        					@for(comment <- userToBeShowed.getComments) {
	        						<tr>
	        							<td class="nl-withoutSpace">
	        							<a href="@routes.App.postShow(comment.getPost().getKey(), sanitizeURL(comment.getPost().getTitle()))#@comment.getKey()">@comment.getContent()</a>
	        							</td>
	        						</tr>
	        					}
	        				</tbody>
	        			</table>
	        		</div>
	        		<div id="user_Comments" class="tab-pane fade">        	
	        			<table class="posts table table-striped table-bordered">   		
	        				<tbody>
	        					@for(comment <- userToBeShowed.getComments) {
	        						<tr>
	        							<td class="nl-withoutSpace">
	        							<a href="@routes.App.postShow(comment.getPost().getKey(), sanitizeURL(comment.getPost().getTitle()))#@comment.getKey()">@comment.getContent()</a>
	        							</td>
	        						</tr>
	        					}
	        				</tbody>
	        			</table>
	        		</div>
	        </div>
	    </div>
	</div>
    }
}
